
### Домашнее задание к занятию 5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения.

### Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
 
```
В первом случае используются специализированные операционные системы, гипервизоры. Они содержат только функционал необходимый для безопасного распределения ресурсов между гостевыми операционными системами, эмуляцией устройств, обеспечивают изолированность. Соответственно объем гипервизоров не велик. Аппаратная виртуализация является типом полной, но в данном случае гостевая ОС может выполнять привилегированные команды процессора, позволяет работать виртуальной машине в нулевом кольце.
В случае с паравиртуализацией, в операционной системе запускается программа, которой доступны выделенные для нее ресурсы, которые она может распределять между виртуальными машинами. В реальности процесс выглядит сложнее, например KVM является модулем ядра ОС. В любом случае ресурсами сервера управляет операционная система общего назначения.
Виртуализация на основе ОС это когда на железо ставится операционная система, а потом сразу виртуальная машина. Нет промежуточного гипервизора, в котором разворачиваются виртуальные машины как в паравиртуализации. Нет необходимости эмулировать устройства. Операционная система должна поддерживать несколько изолированных экземпляров пространства имен.
```

### Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:
Высоконагруженная база данных, чувствительная к отказу.
Различные web-приложения.
Windows системы для использования бухгалтерским отделом.
Системы, выполняющие высокопроизводительные расчеты на GPU.
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
 
```
Высоконагруженная база данных, чувствительная к отказу - Физический сервер
Требуется более высокая производительность, аппаратное размещение дает более высокий отклик и сокращает точки отказа в виде гипервизора хостовой машины. Возможно использование полной аппаратной виртуализации при использовании кластеризации для повышения доступности.
         
Различные Web-приложения - Виртуализация уровня ОС (контейнеры). Требуется меньше ресурсов, выше скорость масштабирования при необходимости расширения. Нет жестких требований к аппаратным ресурсам, требует меньше ресурсов на администрирование.
 
Windows системы для использования бухгалтерским отделом - Паравиртуализация, при ней эффективнее делать резервное копирование - клонирование всей виртуальной машины. Возможность расширения ресурсов на уровне виртуальной машины. Нет критичных требований к доступу к аппаратной составляющей сервера.
        
Системы, выполняющие высокопроизводительные расчеты на GPU - Физические сервера. 
Для аппаратных расчетов требуется максимальный доступ к аппаратным ресурсам, который физический сервер дает более эффективно, в других случаях, доступ осуществляется через хостовую ОС. 
```

### Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.


Сценарии:
1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

```
1. VSphere. Удобство настройки и обслуживания. 
2. KVM. Бесплатный. Имеет стабильное развитие и частоту обновлений.
3. Hyper-V. Решение компании Microsoft в основном используется для продуктов линейки Windows, но также поддерживает Linux.
4. VirtualBox. Удобно создавать виртуальные машины, в том числе через Vagrant.
```        

### Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

```
В гетерогенной среде сокращена возможность автоматического распределения вычислительных ресурсов, что увеличивает вероятность появления дефицита вычислительных ресурсов на одном из участков виртуальной среды. Сложно управлять виртуальными машинами в такой среде, особенно когда их надо обслуживать, перемещать, давать дополнительные ресурсы, когда возможно на одном сервере еще есть ресурсы, а на другом уже заканчиваются, а перераспределить не получится.
```

