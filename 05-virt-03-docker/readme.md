# 5.3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера

 

## Задача 1

 

Сценарий выполнения задачи:

 

- создайте свой репозиторий на https://hub.docker.com;

- выберете любой образ, который содержит веб-сервер Nginx;

- создайте свой fork образа;

- реализуйте функциональность:

запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:

```

<html>

<head>

Hey, Netology

</head>

<body>

<h1>I’m DevOps Engineer!</h1>

</body>

</html>

```

Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

![Screen1](https://github.com/emilsuleymanov/devops-netology/blob/main/05-virt-03-docker/screen1.PNG)

![Screen2](https://github.com/emilsuleymanov/devops-netology/blob/main/05-virt-03-docker/screen2.PNG)

![Screen3](https://github.com/emilsuleymanov/devops-netology/blob/main/05-virt-03-docker/screen3.PNG)

 

https://hub.docker.com/r/emilsuleymanov/nginx/

 

## Задача 2

 

Посмотрите на сценарий ниже и ответьте на вопрос:

"Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина?

Может быть возможны разные варианты?"

 

Детально опишите и обоснуйте свой выбор.

 

--

 

Сценарии:

 

- Высоконагруженное монолитное java веб-приложение; - Подойдет виртуальная или Физическая машина, чтобы распределить приложению ресурсы в виде памяти, процессора и т.п.

- Nodejs веб-приложение; - Для web-приложения подходит Docker контейнер.

- Мобильное приложение c версиями для Android и iOS; - Потребуется виртуальная машина, так как для тестирования и отладки приложения использование контейнеров неудачное решение.

- Шина данных на базе Apache Kafka; - Под данную задачу вполне может подойти Docker контейнер, так как является микро-сервисом. Также возможно рассмотреть использование в виде виртуальной машины.

- Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana; - Возможно лучшим решением будет использование в виде Docker, учитывая наличие контейнера Elasticsearch на hub.docker.com.

- Мониторинг-стек на базе Prometheus и Grafana; - Использование Docker контейнера будет целесообразно для использования данного стека.

- MongoDB, как основное хранилище данных для java-приложения; - По личному мнению лучше бы разместить на отдельной физической машине при наличии такой возможности и наличии ресурсов, в том числе ресурсов для выполнения резервного копирования. Учитывая популярность использования виртуализации можно разместить в виде виртуальной машины.

- Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry. – Не имею на текущий момент опыта и слабо представляю требования. Судя по описанию потребуется значительные ресурсы, в том числе предполагается работа с репозиториями и с контейнеризацией.  Как вариант использовать виртуальные машины. При наличии возможности, рассмотреть возможность физического сервера.

 

## Задача 3

 

- Запустите первый контейнер из образа ***centos*** c любым тэгом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;

- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера;

- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```;

- Добавьте еще один файл в папку ```/data``` на хостовой машине;

- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.

 

![Screen4](https://github.com/emilsuleymanov/devops-netology/blob/main/05-virt-03-docker/screen4.PNG)

![Screen5](https://github.com/emilsuleymanov/devops-netology/blob/main/05-virt-03-docker/screen5.PNG)

 

## Задача 4 (*)
 

Воспроизвести практическую часть лекции самостоятельно.

Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.

https://hub.docker.com/r/emilsuleymanov/ansible1/
